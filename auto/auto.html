<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/bootstrap.css">
    <title>Le nostre auto</title>
    <script src="../bootstrap.min.js" type="application/javascript"></script>
    <script src="https://unpkg.com/vue@3"></script>
</head>
<body>
    <!--Navbar-->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark sticky-top">
        <div class="container-fluid">
          <img src="../immagini/logo.png" alt="" height="45px">
          <a class="navbar-brand" href="#">Green Vehicle Demand</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
            <div class="navbar-nav">
              <a class="nav-link" href="../index.html">Home</a>
              <a class="nav-link active" href="auto.html" aria-current="page">Le nostre auto</a>
              <a class="nav-link" href="#">Pricing</a>
              <a class="nav-link" href="#" tabindex="-1" aria-disabled="true">Disabled</a>
            </div>
          <div class="collapse navbar-collapse justify-content-end" id="navbarNavAltMarkup">
            <div class="navbar-nav">
                <a class="nav-link btn border-secondary" style="border-radius: 10px;" href="../index.html">Login</a>
                <a class="nav-link">Registrati</a>
            </div>
          </div>
          </div>
        </div>
    </nav>
      <!--Main-->
    <section class="AutoDisplay" id="app">
      <div class="row row-cols-2">
              <!--Menu ricerca-->
              <div class="col-md-2 bg-light collapse-horizontal navbar-expand-lg" style="height: 100vmax max-content; min-height: 100%;" v-if="navbaron">
                  <div class="container pt-3">
                      <span class="lead">Filtra per:</span>
                      <form class="mt-3">
                        <div class="accordion" id="accordionPrice">
                            <div class="accordion-item">
                              <h2 class="accordion-header" id="headingOne">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                                    <label for="headingOne" class="">Prezzo:</label>
                                </button>
                              </h2>
                              <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
                                <div class="accordion-body">
                                  <input type="number" id="minPrezzo" class="form-control form-control-sm" placeholder="Prezzo minimo" v-model="pmin">
                                  <input type="number" id="maxPrezzo" class="form-control form-control-sm" placeholder="Prezzo massimo" v-model="pmax" min="5000">
                                </div>
                              </div>
                            </div>
                        </div>
                        <label for="selectMarca" class="mt-4 ms-3">Marca:</label>
                        <select class="form-select" id="selectMarca" v-model="marca">
                            <option value="" selected>Qualsiasi</option>
                            <option value="AUDI">Audi</option>
                            <option value="BMW">Bmw</option>
                            <option value="FIAT">Fiat</option>
                            <option value="MINI">Mini</option>
                            <option value="TESLA">Tesla</option>
                            <option value="MERCEDES">Mercedes</option>
                        </select>
                        <label for="selectCarrozzeria" class="mt-4 ms-3">Carrozzeria:</label>
                        <select class="form-select" id="selectCarrozzeria" v-model="carrozzeria">
                            <option value="" selected>Seleziona tipologia</option>
                            <option value="utilitaria">Utilitaria</option>
                            <option value="berlina">Berlina</option>
                            <option value="supercar">Super Car</option>
                            <option value="suv">SUV</option>
                            <option value="crossover">Crossover</option>
                            <option value="coupe">Coupé</option>
                        </select>
                        <label for="nPosti" class="mt-4 ms-3">Numero di posti:</label>
                        <div id="nPosti" class="form-check">
                            <input class="form-check-input" type="radio" id="2posti" v-model="posti" value="0">
                            <label class="form-check-label">Qualsiasi</label><br>
                            <input class="form-check-input" type="radio" id="2posti" v-model="posti" value="2">
                            <label class="form-check-label">2 posti</label><br>
                            <input class="form-check-input" type="radio" id="2posti" v-model="posti" value="4">
                            <label class="form-check-label">4 posti</label><br>
                            <input class="form-check-input" type="radio" id="2posti" v-model="posti" value="5">
                            <label class="form-check-label">5 posti</label><br>
                            <input class="form-check-input" type="radio" id="2posti" v-model="posti" value="7">
                            <label class="form-check-label">7 posti</label><br>
                        </div>
                        <label for="customRange3" class="form-label mt-4 ms-3">Autonomia minima (km):</label>
                        <input type="range" class="form-range" min="200" max="700" step="50" id="autonomiaMin" value="700" v-model="autonomia">
                      </form>
                      <p>Valore selezionato: {{autonomia}} km</p>
                  </div>
              </div>
              <!--Menu auto-->
              <div class="col-md mainMenuBackground">
                <div class="row">
                  <div class="btn-toolbar justify-content-end" role="toolbar" aria-label="Toolbar with button groups" v-if="!show">
                    <label class="lead mt-2">Ordina per: </label>
                    <div class="btn-group m-2" role="group" aria-label="First group">
                      <button type="button" class="btn btn-success" @click="sortPcresc">Prezzo crescente</button>
                      <button type="button" class="btn btn-success" @click="sortPdec">Prezzo decrescente</button>
                      <button type="button" class="btn btn-success" @click="sortPosti">Posti</button>
                      <button type="button" class="btn btn-success" @click="sortAut">Autonomia</button>
                    </div>
                </div>
                <div class="row">
                  <div v-if="!condizioni.length">
                    <div class="container-md m-3">
                      <div class="alert alert-danger" role="alert">
                        Siamo spiacenti... 
                        <div>
                          <a href="./auto.html" class="alert-link">Indietro</a>
                        </div>
                      </div>
                      <p class="lead ms-3"><strong>Per ora non sono presenti nel nostro sito auto corrispondenti ai criteri inseriti:</p></strong>
                      <li class="lead mt-3 ms-3" v-if="this.marca != ''">{{marca}}</li>
                      <li class="lead mt-3 ms-3" v-if="this.carrozzeria != ''">{{carrozzeria}}</li>
                      <li class="lead mt-3 ms-3" v-if="this.posti != 0">{{posti}} posti</li>
                      <li class="lead mt-3 ms-3" v-if="autonomia != 200">{{autonomia}} km di autonomia minima</li>
                      <li class="lead mt-3 ms-3">da €{{pmin}},00 a €{{pmax}},00</li>
                    </div>
                  </div>
                  <div class="col m-3" v-for="(auto, index) in condizioni":key="auto.id" v-if="!show">
                      <div class="card" style="width: 18rem;">
                            <img v-bind:src="auto.foto" class="card-img-top" alt="...">
                            <div class="card-body">
                            <h5 class="card-title">{{auto.marca}} {{auto.modello}}</h5>
                            <p class="card-text">{{auto.descrizione}}</p>
                            </div>
                            <ul class="list-group list-group-flush">
                            <li class="list-group-item">a partire da: €{{auto.price}}</li>
                            </ul>
                            <div class="card-body">
                            <button class="btn btn-success btn-md" class="card-link" @click="discover(index)">Scopri di più...</button>
                            </div>
                      </div>
                  </div>
                  <div class="container m-3" v-else="">
                    <p class="lead ms-2 text-sm">Scopri di più su {{scopri.marca}} {{scopri.modello}}:</p><hr>
                    <div class="container">
                      <div class="row row-cols-6"  style="border-radius: 10px;">
                        <div style="padding: 0;" class="card-group" v-for="(foto, index) in scopri.immagini" id="smallPic">
                          <img :src="foto" alt="" class="card-img-top photo" @click="imageZoom(foto, index)">
                        </div>
                      </div>
                      <div id="frame">
                        <img src="" class="img-fluid" alt="">
                      </div>
                      <p class="lead text-center">"{{scopri.descrizione}}"</p>
                      <ul>
                        <h4>Scheda tecnica:</h4>
                        <li>Marca: <span class="lead">{{scopri.marca}}</span></li>
                        <li>Modello: <span class="lead">{{scopri.modello}}</span></li>
                        <li>Tipologia: <span class="lead">{{scopri.tipo}}</span></li>
                        <li>Prezzo a partire da: <span class="lead">{{scopri.price}}</span></li>
                        <li>Autonomia: <span class="lead">{{scopri.autonomia}} km</span></li>
                        <li>Numero di posti: <span class="lead">{{scopri.posti}}</span></li>
                      </ul>
                    </div><hr>
                    <button class="btn btn-success ms-2" @click="showLess">Mostra meno</button>
                  </div>
                </div>
              </div>
      </div>
    </section>
    <script src="app.js" type="application/javascript"></script>
</body>
</html>